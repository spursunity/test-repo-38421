<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–£–≥–∞–¥–∞–π –°–ª–æ–≤–æ Online</title>
  <meta name="description" content="–û–Ω–ª–∞–π–Ω –∏–≥—Ä–∞ '–£–≥–∞–¥–∞–π –°–ª–æ–≤–æ' –¥–ª—è –¥–≤—É—Ö –∏–≥—Ä–æ–∫–æ–≤">
  <link rel="stylesheet" href="/src/styles/main.css">
</head>
<body>
  <!-- Header -->
  <header class="header">
    <h1 class="header__title">üéØ –£–≥–∞–¥–∞–π –°–ª–æ–≤–æ Online</h1>
    <p class="header__subtitle">–ú–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –∏–≥—Ä–∞ –¥–ª—è –¥–≤—É—Ö –∏–≥—Ä–æ–∫–æ–≤</p>
  </header>

  <!-- Main -->
  <main class="main">
    <!-- Menu Screen -->
    <div id="menu-screen" class="menu-screen">
      <div class="menu-card">
        <h2 class="menu-card__title">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É</h2>
        <div class="menu-card__content">
          <label class="menu-label">–î–ª–∏–Ω–∞ —Å–ª–æ–≤–∞:</label>
          <select id="word-length-select" class="menu-select" data-exclude-gestures="true">
            <option value="5">5 –±—É–∫–≤</option>
            <option value="6">6 –±—É–∫–≤</option>
            <option value="7">7 –±—É–∫–≤</option>
            <option value="8">8 –±—É–∫–≤</option>
          </select>
          <button id="create-game-btn" class="menu-btn menu-btn--primary">
            –°–æ–∑–¥–∞—Ç—å –∏–≥—Ä—É
          </button>
        </div>
      </div>

      <div class="menu-divider">–∏–ª–∏</div>

      <div class="menu-card">
        <h2 class="menu-card__title">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∏–≥—Ä–µ</h2>
        <div class="menu-card__content">
          <label class="menu-label">ID –∫–æ–º–Ω–∞—Ç—ã:</label>
          <input
            type="text"
            id="room-id-input"
            class="menu-input"
            placeholder="–í—Å—Ç–∞–≤—å—Ç–µ ID –∫–æ–º–Ω–∞—Ç—ã"
            data-exclude-gestures="true"
          />
          <button id="join-game-btn" class="menu-btn menu-btn--secondary">
            –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è
          </button>
        </div>
      </div>
    </div>

    <!-- Game Screen -->
    <div id="game-screen" class="game-screen" style="display: none;">
      <!-- Enhanced Room Info with Share Functionality -->
      <div class="room-info">
        <div class="room-info__main">
          <span class="room-info__label">ID –∫–æ–º–Ω–∞—Ç—ã:</span>
          <span id="room-id-display" class="room-info__value">-</span>
        </div>
        
        <div class="room-info__actions">
          <button id="copy-room-id-btn" class="room-info__btn room-info__btn--secondary" title="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å ID">
            üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
          </button>
          <button id="share-room-btn" class="room-info__btn room-info__btn--primary" title="–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –¥–ª—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è">
            üîó –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∏–≥—Ä—É
          </button>
        </div>
        
        <!-- Waiting for Player Indicator -->
        <div id="waiting-indicator" class="waiting-indicator" style="display: none;">
          <div class="waiting-indicator__spinner"></div>
          <span class="waiting-indicator__text">–û–∂–∏–¥–∞–µ–º –≤—Ç–æ—Ä–æ–≥–æ –∏–≥—Ä–æ–∫–∞...</span>
        </div>
      </div>

      <!-- Turn Indicator -->
      <div id="turn-indicator-container"></div>

      <!-- Game Grid -->
      <div id="game-grid-container"></div>

      <!-- Guess Input -->
      <div id="guess-input-container"></div>

      <!-- Game Over Screen -->
      <div id="game-over-container"></div>
    </div>
  </main>

  <!-- Loading Overlay -->
  <div id="loading-overlay" class="loading-overlay" style="display: none;">
    <div class="loading-spinner"></div>
    <div class="loading-text">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
  </div>

  <!-- Error Message -->
  <div id="error-message" class="error-message" style="display: none;">
  </div>

  <!-- Share Modal for better UX -->
  <div id="share-modal" class="share-modal" style="display: none;">
    <div class="share-modal__backdrop"></div>
    <div class="share-modal__content">
      <div class="share-modal__header">
        <h3 class="share-modal__title">üéØ –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –≤ –∏–≥—Ä—É</h3>
        <button id="close-share-modal" class="share-modal__close">√ó</button>
      </div>
      
      <div class="share-modal__body">
        <p class="share-modal__description">
          –û—Ç–ø—Ä–∞–≤—å—Ç–µ —ç—Ç—É —Å—Å—ã–ª–∫—É –¥—Ä—É–≥—É –¥–ª—è –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∫ –∏–≥—Ä–µ:
        </p>
        
        <div class="share-modal__link-container">
          <input 
            id="share-link-input" 
            type="text" 
            class="share-modal__link-input" 
            readonly
            placeholder="–°—Å—ã–ª–∫–∞ –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏"
          />
          <button id="copy-share-link-btn" class="share-modal__copy-btn">
            üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
          </button>
        </div>
        
        <!-- Native share options if available -->
        <div id="native-share-container" class="share-modal__native" style="display: none;">
          <button id="native-share-btn" class="share-modal__native-btn">
            üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è
          </button>
        </div>
        
        <div class="share-modal__tips">
          <h4 class="share-modal__tips-title">–ü–æ–ª–µ–∑–Ω–æ –∑–Ω–∞—Ç—å:</h4>
          <ul class="share-modal__tips-list">
            <li>–°—Å—ã–ª–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä–æ–µ—Ç –∏–≥—Ä—É</li>
            <li>–ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –Ω–µ –Ω—É–∂–Ω–æ</li>
            <li>–ò–≥—Ä–∞ –Ω–∞—á–Ω–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <p class="footer__text">
      –°–æ–∑–¥–∞–Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º 
      <a href="https://supabase.com" target="_blank" class="footer__link">Supabase</a>
    </p>
  </footer>

  <script type="module" src="/src/main.js"></script>
</body>
</html>